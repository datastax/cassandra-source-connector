<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>CDC for Cassandra FAQs :: DataStax CDC for Apache Cassandra documentation</title>
    <link rel="canonical" href="http://docs.datastax.com/en/cdc-for-cassandra/cdc-apache-cassandra/1.0.0/faqs.html">
    <meta name="generator" content="Antora 2.3.4">
    <link rel="stylesheet" href="../../assets/css/site.css">
    <link rel="icon" href="https://www.datastax.com/favicon.ico" type="image/x-icon">
  </head>
  <body class="article">
<header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <a href="http://docs.datastax.com/en/cdc-for-cassandra">
        <img width="223px" height="43px" src="../../assets/img/logo.svg"/>
      </a>
      <button class="navbar-burger" data-target="topbar-nav">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">
        <div class="navbar-end__group">
          <a class="navbar-item" href="/en/landing_page/doc/landing_page/current.html">Docs</a>
          <!--<a class="navbar-item" href="/community">Community</a>-->
          <!--<a class="navbar-item" href="/blog">Blog</a>-->
          <!-- <a class="navbar-item search" href="/results">
            <img width="34px" height="34px" src="../../assets/img/search.svg"/>
          </a>-->
        </div>
        <div class="navbar-end__group">
          <!--<a class="navbar-item social-icon" href="https://twitter.com/stargateio" target="_blank" rel="noopener noreferrer">
            <img width="34px" height="34px" src="../../assets/img/twitter.svg"/>
          </a>-->
          <!--<a class="navbar-item social-icon" href="https://groups.google.com/a/lists.stargate.io/g/stargate-users" target="_blank">
            <img width="34px" height="34px" src="../../assets/img/groups.svg"/>
          </a>-->
          <!--<a class="navbar-item social-icon" href="https://github.com/riptano/pulsar-distro" target="_blank" rel="noopener noreferrer">
            <img width="34px" height="34px" src="../../assets/img/github.svg"/>
          </a>-->
        </div>
      </div>
    </div>
  </nav>
</header>
<div class="body">
<div class="nav-container" data-component="cdc-apache-cassandra" data-version="1.0.0">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <h3 class="title"><a href="index.html">DataStax CDC for Apache Cassandra(R) Documentation</a></h3>
<ul class="nav-list">
  <li class="nav-item toggler" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="index.html">About CDC for Cassandra</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="install.html">Installing CDC for Cassandra</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="monitor.html">Monitor CDC for Cassandra</a>
  </li>
  <li class="nav-item is-current-page" data-depth="1">
    <a class="nav-link" href="faqs.html">CDC for Cassandra FAQs</a>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
    <span class="title">DataStax CDC for Apache Cassandra(R) Documentation</span>
    <span class="version">1.0.0</span>
  </div>
  <ul class="components">
    <li class="component is-current">
      <span class="title">DataStax CDC for Apache Cassandra(R) Documentation</span>
      <ul class="versions">
        <li class="version is-current is-latest">
          <a href="index.html">1.0.0</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main class="article">
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="index.html">DataStax CDC for Apache Cassandra(R) Documentation</a></li>
    <li><a href="faqs.html">CDC for Cassandra FAQs</a></li>
  </ul>
</nav>
  <!--<div class="edit-this-page"><a href="https://github.com/datastax/cdc-for-cassandra/blob/master/docs/docs/modules/ROOT/pages/faqs.adoc">Edit this Page</a></div>-->
</div>
  <div class="content">
<article class="doc">
<h1 class="page">CDC for Cassandra FAQs</h1>
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>If you are new to DataStax CDC for Apache Cassandra®, these frequently asked questions are for you.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_introduction"><a class="anchor" href="#_introduction"></a>Introduction</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_what_is_cdc_for_cassandra"><a class="anchor" href="#_what_is_cdc_for_cassandra"></a>What is CDC for Cassandra?</h3>
<div class="paragraph">
<p>The CDC for Cassandra is a an open-source product from DataStax.</p>
</div>
<div class="paragraph">
<p>With CDC for Cassandra, updates to data in Apache Cassandra are put into a Pulsar topic, which in turn can write the data to external targets such as Elastic, Snowflake, and other platforms.
The DataStax Cassandra Source Connector for Apache Pulsar™ component is simple, with a 1:1 correspondence between the Cassandra table and a single Pulsar topic.</p>
</div>
</div>
<div class="sect2">
<h3 id="_what_are_the_system_requirements_for_csc_for_pulsar"><a class="anchor" href="#_what_are_the_system_requirements_for_csc_for_pulsar"></a>What are the system requirements for CSC for Pulsar?</h3>
<div class="paragraph">
<p>Minimum system requirement are:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Cassandra 3.11 or 4.0+, DSE 6.8.16+</p>
</li>
<li>
<p>Luna Streaming 2.7.2+ or Apache Pulsar 2.8.1+</p>
</li>
<li>
<p>Additional memory and CPU available on all Cassandra nodes</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_what_are_the_cdc_for_cassandra_limitations"><a class="anchor" href="#_what_are_the_cdc_for_cassandra_limitations"></a>What are the CDC for Cassandra limitations?</h3>
<div class="paragraph">
<p>CDC for Cassandra has the following limitations:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Does not manage table truncates.</p>
</li>
<li>
<p>Does not sync data available before starting the CDC agent.</p>
</li>
<li>
<p>Does not replay logged batches.</p>
</li>
<li>
<p>Does not manage time-to-live.</p>
</li>
<li>
<p>Does not support range deletes.</p>
</li>
<li>
<p>CQL column names must not match a Pulsar primitive type name (ex: INT32).</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_what_happens_if_luna_streaming_or_apache_pulsar_is_unavailable"><a class="anchor" href="#_what_happens_if_luna_streaming_or_apache_pulsar_is_unavailable"></a>What happens if Luna Streaming or Apache Pulsar is unavailable?</h3>
<div class="paragraph">
<p>If Luna Streaming or Apache Pulsar is not available or unreachable, the change agent will keep trying to send messages.
<code>commitlog</code> files accumulate in the <code>cdc_raw</code> directory.
When the disk space of the <code>cdc_raw</code> directory reach your <code>cdc_total_space_in_mb</code> cassandra settings (less than 4Gb by default), writes to CDC-enabled tables fails with a <code>CDCWriteException</code>.
The following warning message is included in Cassandra logs:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-language-bash hljs" data-lang="language-bash">WARN  [CoreThread-5] 2021-10-29 09:12:52,790  NoSpamLogger.java:98 - Rejecting Mutation containing CDC-enabled table. Free up space in /mnt/data/cdc_raw.</code></pre>
</div>
</div>
<div class="paragraph">
<p>To avoid or recover from this situation, increase the <code>cdc_total_space_in_mb</code> and restart the node.
To prevent hitting this new limit, increase the write throughput to Luna Streaming or Apache Pulsar or decrease the write throughput to your node.</p>
</div>
<div class="paragraph">
<p>Increasing the Luna Streaming or Apache Pulsar write throughput may involve tuning the change agent configuration (the number of allocated threads, the batching delay, the number of inflight messages), the Luna Streaming or Apache Pulsar configuration (the number of partition of your topics), or the CSC for Pulsar configuration (query executors, batching and cache settings, connector parallelism).</p>
</div>
<div class="paragraph">
<p>As a last resort, if losing data is acceptable in your CDC pipeline, remove <code>commitlog</code> files from the <code>cdc_raw</code> directory.
Restarting the node is not needed in this case.</p>
</div>
</div>
<div class="sect2">
<h3 id="_i_have_multiple_cassandra_datacenters_how_do_i_configure_cdc_for_cassandra"><a class="anchor" href="#_i_have_multiple_cassandra_datacenters_how_do_i_configure_cdc_for_cassandra"></a>I have multiple Cassandra datacenters. How do I configure CDC for Cassandra?</h3>
<div class="paragraph">
<p>In a multi-datacenter Cassandra configuration, enable CDC and install the change agent in only one datacenter.
To ensure the data sent to all datacenters are delivered to the data topic, make sure that replication to the datacenter that has CDC enabled on the table.</p>
</div>
<div class="paragraph">
<p>For example, given a Cassandra cluster with three datacenters (DC1, DC2, and DC3), you would enable CDC and install the change agent in only DC1.
To ensure all updates in DC2 and DC2 are propagated to the data topic, configure the table to replicate data from DC2 and DC3 to DC1.
For example, <code>replication = {'class': 'NetworkTopologyStrategy', 'dc1': '3', 'dc2': '3', 'dc3': '3'})</code>.
The data replicated to DC1 will be processed by the change agent and eventually end up in the data topic.</p>
</div>
</div>
<div class="sect2">
<h3 id="_is_cdc_for_cassandra_an_open_source_project"><a class="anchor" href="#_is_cdc_for_cassandra_an_open_source_project"></a>Is CDC for Cassandra an open-source project?</h3>
<div class="paragraph">
<p>Yes, CDC for Cassandra is open source using the Apache 2.0 license.</p>
</div>
</div>
<div class="sect2">
<h3 id="_what_does_cdc_for_cassandra_provide_that_i_cannot_get_with_open_source_apache_pulsar"><a class="anchor" href="#_what_does_cdc_for_cassandra_provide_that_i_cannot_get_with_open_source_apache_pulsar"></a>What does CDC for Cassandra provide that I cannot get with open-source Apache Pulsar?</h3>
<div class="paragraph">
<p>In effect, the CDC for Cassandra implements the reverse of Apache Pulsar or DataStax Cassandra Sink Connector.
With those sink connectors, data is taken from a Pulsar topic and put into Cassandra.
With CDC for Cassandra, updates to a Cassandra table are converted into events and put into a data topic.
From there, the data can be published to external platforms like Elastic, Snowflake, and other platforms.</p>
</div>
</div>
<div class="sect2">
<h3 id="_does_cdc_for_cassandra_support_kubernetes"><a class="anchor" href="#_does_cdc_for_cassandra_support_kubernetes"></a>Does CDC for Cassandra support Kubernetes?</h3>
<div class="paragraph">
<p>Yes.
You can run the CSC for Pulsar on Luna Streaming or Apache Pulsar running on any Kubernetes platform, including Minikube, K8d, Kind, Google Kubernetes Engine (GKE), Microsoft Azure Kubernetes Service, Amazon Kubernetes Service (AKS), and other commonly used platforms.
You can deploy the change agent with Cassandra on Kubernetes with the <a href="https://github.com/datastax/cass-operator">cass-operator</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="_where_is_the_cdc_for_cassandra_public_github_repository"><a class="anchor" href="#_where_is_the_cdc_for_cassandra_public_github_repository"></a>Where is the CDC for Cassandra public GitHub repository?</h3>
<div class="paragraph">
<p>The source for this FAQs document is co-located with the CDC for Cassandra repository code.
You can access the repository <a href="https://github.com/datastax/cdc-apache-cassandra">here</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="_how_do_i_install_cdc_for_cassandra"><a class="anchor" href="#_how_do_i_install_cdc_for_cassandra"></a>How do I install CDC for Cassandra?</h3>
<div class="paragraph">
<p>Follow the <a href="install.html" class="page">install</a> instructions.</p>
</div>
</div>
<div class="sect2">
<h3 id="_what_is_prometheus"><a class="anchor" href="#_what_is_prometheus"></a>What is Prometheus?</h3>
<div class="paragraph">
<p><a href="https://prometheus.io/docs/introduction/overview/">Prometheus</a> is an open-source tool to collect metrics on a running app, providing real-time monitoring and alerts.</p>
</div>
</div>
<div class="sect2">
<h3 id="_what_is_grafana"><a class="anchor" href="#_what_is_grafana"></a>What is Grafana?</h3>
<div class="paragraph">
<p><a href="https://grafana.com/">Grafana</a> is a visualization tool that helps you make sense of metrics and related data coming from your apps via Prometheus.</p>
</div>
</div>
</div>
</div>
</article>
<aside class="toc sidebar" data-title="Contents" data-levels="2">
  <div class="toc-menu"></div>
</aside>
  </div>
</main></div>
<footer class="footer">
  <div class="footer-row">
    <div class="footer__notice align-items-center row">
      <div class="order-1 order-lg-0 col-lg col-12">
        <p class="small mb-0">
          © 2021 DataStax |
          <a href="https://www.datastax.com/legal/datastax-website-privacy-policy">Privacy Policy</a> |
          <a href="https://www.datastax.com/legal/datastax-website-terms-use">Terms of Use</a>
              <!-- UNCOMMENT IF USING ONETRUST FOR COOKIES
                <span><a href="#" id="ot-sdk-btn" class="ot-sdk-show-settings">Do Not Sell My Personal Information</a></span>
              -->
        </p>
      </div>
    <div class="text-center text-lg-left mb-5 mb-lg-0 col-lg-auto col-12">
        <a class="ml-1" href="https://www.facebook.com/datastax" target="_blank" rel="noreferrer"><img
            src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTMyIDBIMHYzMS42NWgxNy4wOTVWMTkuNDM2aC00LjE4MlYxNC42Mmg0LjE2di0zLjUxNWMwLTQuMDkzIDIuNTItNi4zMiA2LjIwOS02LjMyYTM1LjI3IDM1LjI3IDAgMDEzLjc1LjIxMnY0LjI3aC0yLjU0OWMtMi4wMDQgMC0yLjM5MS45MzgtMi4zOTEgMi4zMnYzLjA1NWg0LjhsLS42MjMgNC43OTJoLTQuMTc3VjMxLjY1SDMyVjB6IiBmaWxsPSIjMUU3MUQ0Ii8+PC9zdmc+"
            alt="Facebook logo" loading="lazy"></a>
        <a class="ml-1" href="https://twitter.com/datastax" target="_blank" rel="noreferrer"><img
            src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTMyLjAwMSAzMS42NWgtMzJWMGgzMnYzMS42NXptLTE5LjcxMi03Ljc4NWM3LjU0NCAwIDExLjY3Mi02LjE4OCAxMS42NzItMTEuNTQ1IDAtLjE3NCAwLS4zNDgtLjAwOC0uNTIyLjgtLjU3IDEuNDk2LTEuMjkgMi4wNDgtMi4xMDVhOC4zODcgOC4zODcgMCAwMS0yLjM2LjY0MSA0LjA5IDQuMDkgMCAwMDEuODA4LTIuMjQ3IDguMjExIDguMjExIDAgMDEtMi42MDguOTgxIDQuMTE2IDQuMTE2IDAgMDAtMi45OTItMS4yODJjLTIuMjY0IDAtNC4xMDQgMS44Mi00LjEwNCA0LjA2IDAgLjMxNi4wNC42MjQuMTA0LjkyNUExMS42OTIgMTEuNjkyIDAgMDE3LjM5MyA4LjUzYTQuMDI0IDQuMDI0IDAgMDAtLjU1MiAyLjA0MSA0LjA2IDQuMDYgMCAwMDEuODI0IDMuMzggNC4xODQgNC4xODQgMCAwMS0xLjg1Ni0uNTA3di4wNTVjMCAxLjk2MiAxLjQxNiAzLjYwOCAzLjI4OCAzLjk4YTQuMDQgNC4wNCAwIDAxLTEuMDguMTQzYy0uMjY0IDAtLjUyLS4wMjQtLjc2OC0uMDcyYTQuMDk3IDQuMDk3IDAgMDAzLjgzMiAyLjgxNyA4LjI4NSA4LjI4NSAwIDAxLTUuMDk2IDEuNzQxYy0uMzI4IDAtLjY1Ni0uMDE2LS45NzYtLjA1NWExMS43NjMgMTEuNzYzIDAgMDA2LjI4IDEuODEyeiIgZmlsbD0iIzFFNzFENCIvPjwvc3ZnPg=="
            alt="Twitter logo" loading="lazy"></a>
        <a class="ml-1" href="https://www.linkedin.com/company/datastax/" target="_blank" rel="noreferrer"><img
            src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTS4wMDEgMHYzMS42NWgzMlYwaC0zMnptOS40ODEgMjYuOTYyaC00Ljc0VjExLjg0aDQuNzR2MTUuMTIyek03LjExMiA5Ljc4OGEyLjcwNCAyLjcwNCAwIDAxLTIuNzI2LTIuNjk2YzAtMS41MjQgMS4yNDUtMi42OTYgMi43MjYtMi42OTYgMS41NCAwIDIuNzI2IDEuMjMgMi43MjYgMi42OTYuMDYgMS40NjUtMS4xODUgMi42OTYtMi43MjYgMi42OTZ6TTI3LjI2IDI2Ljk2MmgtNC43NHYtNy4zMjdjMC0xLjc1OC0uMDYtMy45ODUtMi40OS0zLjk4NS0yLjQ4OCAwLTIuODQ0IDEuOTM0LTIuODQ0IDMuODY4djcuNDQ0aC00Ljc0VjExLjg0aDQuNTYydjIuMDUxaC4wNmMuNjUxLTEuMTcyIDIuMTkyLTIuNDYxIDQuNTAzLTIuNDYxIDQuOCAwIDUuNjkgMy4xMDYgNS42OSA3LjIwOXY4LjMyM3oiIGZpbGw9IiMxRTcxRDQiLz48L3N2Zz4="
            alt="LinkedIn logo" loading="lazy"></a>
        <a class="ml-1" href="https://github.com/datastax/" target="_blank" rel="noreferrer"><img
            src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0zMiAwSDB2MzEuNjVoMzJWMHpNNCAxNS44MDVDNCA5LjI4NyA5LjM1OCA0IDE1Ljk2MyA0IDIyLjU3IDQgMjcuOTI3IDkuMjg3IDI4IDE1LjgwNWMwIDUuMjE1LTMuMzc2IDkuNjMyLTguMTQ3IDExLjIyNi0uNTg3LjA3Mi0uODA3LS4yOS0uODA3LS41OHYtMy4yNTljMC0xLjA4Ni0uMzY3LTEuODEtLjgwOC0yLjE3MiAyLjY0My0uMjkgNS40MzItMS4yMzIgNS40MzItNS43OTRhNC42NSA0LjY1IDAgMDAtMS4yNDgtMy4xODdsLjAyMy0uMDg1YTQuNDQgNC40NCAwIDAwLS4xNy0zLjAzcy0xLjAyNy0uMjg5LTMuMzAyIDEuMjMyYTEzLjY4MSAxMy42ODEgMCAwMC0zLjAxLS4zNjJjLTEuMDI3IDAtMi4wNTUuMDcyLTMuMDA5LjM2Mi0yLjI3NS0xLjUyLTMuMzAzLTEuMjMxLTMuMzAzLTEuMjMxLS42NDggMS41NjQtLjIzNSAyLjc4LS4xNSAzLjAyOSAwIC4wMDQuMDAyLjAwOS4wMDQuMDEzLS44MDguODY5LTEuMjQ4IDEuODgzLTEuMjQ4IDMuMTg2IDAgNC41NjMgMi43ODkgNS41NzcgNS40MzEgNS44NjctLjI5My4yOS0uNjYuNzk2LS43MzQgMS41OTMtLjY2LjI5LTIuMzQ5Ljc5Ny0zLjQ1LTEuMDE0IDAgMC0uNjYtMS4xNTktMS44MzQtMS4yMzEgMCAwLTEuMTc1IDAtLjA3NC43MjQgMCAwIC44MDguMzYyIDEuMzIxIDEuNzM4IDAgMCAuNzM0IDIuMzE4IDQuMDM3IDEuNTkzdjIuMDI4YzAgLjI5LS4yMi42NTItLjgwNy41OEM3LjQ1IDI1LjQzNyA0IDIxLjAyIDQgMTUuODA1eiIgZmlsbD0iIzFFNzFENCIvPjwvc3ZnPg=="
            alt="GitHub logo" loading="lazy"></a>
    </div>
   </div>
  </div>
</footer>
<script src="../../assets/js/site.js"></script>
<script async src="../../assets/js/vendor/highlight.js"></script>
  </body>
</html>
