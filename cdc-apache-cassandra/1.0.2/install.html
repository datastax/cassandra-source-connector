<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Installing CDC for Cassandra :: DataStax CDC for Apache Cassandra documentation</title>
    <link rel="canonical" href="http://docs.datastax.com/en/cdc-for-cassandra/cdc-apache-cassandra/1.0.2/install.html">
    <meta name="generator" content="Antora 2.3.4">
    <link rel="stylesheet" href="../../assets/css/site.css">
    <link rel="icon" href="https://www.datastax.com/favicon.ico" type="image/x-icon">
  </head>
  <body class="article">
<header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <a href="http://docs.datastax.com/en/cdc-for-cassandra">
        <img width="223px" height="43px" src="../../assets/img/logo.svg"/>
      </a>
      <button class="navbar-burger" data-target="topbar-nav">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">
        <div class="navbar-end__group">
          <div class="navbar-item">
            <form id="alg-search-form" class="ds-search-form" action="https://www.datastax.com/search" target="_blank" method="GET">
                <div>
                    <input id="alg-search-input" class="ds-datastax-search-input" type="text" name="query" placeholder="Search docs"/>
                    <button id="alg-search-button" class="ds-search-button" type="submit" style="display: none"></button>
                    <input id="dataset" type="hidden" name="dataset" value="docs"/>
                </div>
            </form>
          </div>
          <div class="navbar-item">
             <a class="navbar-item" href="/en/landing_page/doc/landing_page/current.html">Docs</a>
          </div>
      </div>
    </div>
  </nav>
</header>
<div class="body">
<div class="nav-container" data-component="cdc-apache-cassandra" data-version="1.0.2">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <h3 class="title"><a href="index.html">DataStax CDC for Apache Cassandra(R) Documentation</a></h3>
<ul class="nav-list">
  <li class="nav-item toggler" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="index.html">About CDC for Cassandra</a>
  </li>
  <li class="nav-item is-current-page" data-depth="1">
    <a class="nav-link" href="install.html">Installing CDC for Cassandra</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="monitor.html">Monitor CDC for Cassandra</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="faqs.html">CDC for Cassandra FAQs</a>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
    <span class="title">DataStax CDC for Apache Cassandra(R) Documentation</span>
    <span class="version">1.0.2</span>
  </div>
  <ul class="components">
    <li class="component is-current">
      <span class="title">DataStax CDC for Apache Cassandra(R) Documentation</span>
      <ul class="versions">
        <li class="version is-current is-latest">
          <a href="index.html">1.0.2</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main class="article">
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="index.html">DataStax CDC for Apache Cassandra(R) Documentation</a></li>
    <li><a href="install.html">Installing CDC for Cassandra</a></li>
  </ul>
</nav>
  <!--<div class="edit-this-page"><a href="https://github.com/datastax/cdc-for-cassandra/blob/master/docs/docs/modules/ROOT/pages/install.adoc">Edit this Page</a></div>-->
</div>
  <div class="content">
<article class="doc">
<h1 class="page">Installing CDC for Cassandra</h1>
<div class="sect1">
<h2 id="_download_the_datastax_change_agent_for_apache_cassandra"><a class="anchor" href="#_download_the_datastax_change_agent_for_apache_cassandra"></a>Download the DataStax Change Agent for Apache CassandraÂ®</h2>
<div class="sectionbody">
<div class="paragraph">
<p>IMPORTANT</p>
</div>
<div class="exampleblock">
<div class="content">
<div class="paragraph">
<p>By downloading this DataStax product, you agree to the terms of the open-source <a href="https://www.apache.org/licenses/LICENSE-2.0">Apache-2.0 license agreement</a>.</p>
</div>
</div>
</div>
<div class="paragraph">
<p>Perform the following steps:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Download the change agent tar file from the <a href="https://downloads.datastax.com/#cassandra-change-agent">DataStax downloads page</a>.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>The following files are available in the tar file:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Cassandra type</th>
<th class="tableblock halign-left valign-top">Streaming platform</th>
<th class="tableblock halign-left valign-top">JAR file</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Apache Cassandra 3.x</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Apache Pulsar</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">agent-c3-pulsar-&lt;version&gt;-all.jar</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Apache Cassandra 3.x</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Luna Streaming</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">agent-c3-luna-&lt;version&gt;-all.jar</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Apache Cassandra 4.x</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Apache Pulsar</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">agent-c4-pulsar-&lt;version&gt;-all.jar</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Apache Cassandra 4.x</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Luna Streaming</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">agent-c4-luna-&lt;version&gt;-all.jar</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">DSE 6.8.16+</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Apache Pulsar</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">agent-dse4-pulsar-&lt;version&gt;-all.jar</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">DSE 6.8.16+</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Luna Streaming</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">agent-dse4-luna-&lt;version&gt;-all.jar</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Extract the files from the tar with the following command:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-language-bash hljs" data-lang="language-bash">tar xvf cassandra-source-agents-&lt;version&gt;.tar</code></pre>
</div>
</div>
<div class="paragraph">
<p>Use the file that matches your Cassandra type and streaming platform.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_start_cassandra_with_the_change_agent_for_cassandra"><a class="anchor" href="#_start_cassandra_with_the_change_agent_for_cassandra"></a>Start Cassandra with the Change Agent for Cassandra</h2>
<div class="sectionbody">
<div class="paragraph">
<p>All data nodes of your Cassandra or DSE datacenter must run the change agent as a JVM agent to send mutations into the events topic of your streaming software.
Start your Cassandra or DSE nodes with the appropriate producer binary matching your Cassandra (3.11 or 4.0) or DSE (6.8.16) version and your streaming platform (Luna Streaming or Apache Pulsar).</p>
</div>
<div class="paragraph">
<p>As a Java agent, the change agent parameters take place after the <code>jar</code> file name in the form of a comma-separated list of <code>paramName=paramValue</code>.
Here is an example for Luna Streaming/Apache Pulsar on Cassandra version 4.0 nodes:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-language-bash hljs" data-lang="language-bash">export JVM_EXTRA_OPTS="-javaagent:/path/to/agent-c4-luna-&lt;version&gt;-all.jar=pulsarServiceUrl=pulsar://pulsar:6650"</code></pre>
</div>
</div>
<div class="paragraph">
<p>For the full set of configuration options, see <a href="#agentParams">Change Agent Parameters</a></p>
</div>
<div class="paragraph">
<p>In addition to configuring the change agent, enable CDC on the Cassandra node by setting <code>cdc_enabled</code> to <code>true</code> in the <code>cassandra.yaml</code> file.</p>
</div>
<div class="paragraph">
<p>For Cassandra 4.X and DSE 6.8.16+, you can configure the commit log sync period.
This parameter controls how often the commit logs are made available for CDC processing.
The default is 10 seconds.
To reduce the latency from when the table is updated to when the event is available in the data topic, decrease the period, such as 2 seconds.</p>
</div>
<div class="paragraph">
<p>The total amount of CDC data stored is controlled by the <code>cdc_total_space_in_mb</code> parameter.
If the amount of unprocessed CDC reaches this threshold, writes to CDC enabled tables will be rejected.
Make sure you have the change agent installed on the node when CDC is enabled.
Without the change agent to process the CDC data, the space used will grow until it hits this limit and then writes to CDC-enabled tables will stop.</p>
</div>
<div class="paragraph">
<p>Here is an example set of configurations for the <code>cassandra.yaml</code> file:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-language-bash hljs" data-lang="language-bash">cdc_enabled: true
commitlog_sync_period_in_ms: 2000
cdc_total_space_in_mb: 50000</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="agentParams"><a class="anchor" href="#agentParams"></a>Change Agent Parameters</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 1. Table Change Agent Parameters</caption>
<colgroup>
<col style="width: 28.5714%;">
<col style="width: 42.8571%;">
<col style="width: 14.2857%;">
<col style="width: 14.2858%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Name</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Description</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Type</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Default</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>topicPrefix</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The event topic name prefix. The <code>&lt;keyspace_name&gt;.&lt;table_name&gt;</code> is appended to that prefix to build the topic name.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">events-</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>cdcWorkingDir</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The CDC working directory where the last sent offset is saved, and where the archived and errored commitlogs files are copied.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">cdc</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>cdcPollIntervalMs</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The poll interval in milliseconds for watching new commitlog files in the CDC raw directory.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">long</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">60000</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>errorCommitLogReprocessEnabled</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enable the re-processing of error commitlogs files.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">boolean</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>cdcConcurrentProcessors</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The number of threads used to process commitlog files. The default value is the <code>memtable_flush_writers</code>.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">integer</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-1</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>maxInflightMessagesPerTask</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The maximum number of in-flight messages per commitlog processing task.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">integer</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">16384</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>pulsarServiceUrl</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The Pulsar broker service URL.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">pulsar://localhost:6650</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>pulsarBatchDelayInMs</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Pulsar batching delay in milliseconds. Pulsar batching is enabled when this value is greater than zero.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">long</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-1</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>pulsarKeyBasedBatcher</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">When true, use the Pulsar KEY_BASED BatchBuilder.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">boolean</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>pulsarMaxPendingMessages</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The Pulsar maximum size of a queue holding pending messages.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">integer</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1000</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>pulsarMaxPendingMessagesAcrossPartitions</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The Pulsar maximum number of pending messages across partitions.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">integer</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">50000</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>pulsarAuthPluginClassName</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The Pulsar authentication plugin class name.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>pulsarAuthParams</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The Pulsar authentication parameters.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>sslProvider</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The SSL/TLS provider to use.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>sslTruststorePath</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The path to the SSL/TLS truststore file.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>sslTruststorePassword</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The password for the SSL/TLS truststore.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>sslTruststoreType</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The type of the SSL/TLS truststore.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">JKS</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>sslKeystorePath</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The path to the SSL/TLS keystore file.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>sslKeystorePassword</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The password for the SSL/TLS keystore.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>sslCipherSuites</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Defines one or more cipher suites to use for negotiating the SSL/TLS connection.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>sslEnabledProtocols</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled SSL/TLS protocols</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TLSv1.2,TLSv1.1,TLSv1</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>sslAllowInsecureConnection</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Allows insecure connections to servers whose certificate has not been signed by an approved CA. You should always disable <code>sslAllowInsecureConnection</code> in production environments.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">boolean</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>sslHostnameVerificationEnable</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enable the server hostname verification.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">boolean</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="_download_csc_for_pulsar"><a class="anchor" href="#_download_csc_for_pulsar"></a>Download CSC for Pulsar</h2>
<div class="sectionbody">
<div class="paragraph">
<p>IMPORTANT</p>
</div>
<div class="exampleblock">
<div class="content">
<div class="paragraph">
<p>By downloading this DataStax product, you agree to the terms of the open-source <a href="https://www.apache.org/licenses/LICENSE-2.0">Apache-2.0 license agreement</a>.</p>
</div>
</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Download the <code>cassandra-source-connectors-&lt;version&gt;.tar</code> file from the <a href="https://downloads.datastax.com/#cassandra-source-connector">DataStax downloads page</a>.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>The following files are available:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Streaming platform</th>
<th class="tableblock halign-left valign-top">NAR file</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Apache Pulsar 2.8 and Luna Streaming 2.8</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">pulsar-cassandra-source-&lt;version&gt;.nar</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Luna Streaming 2.7</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">luna-cassandra-source-&lt;version&gt;.nar</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Extract the files from the tar with the following command:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-language-bash hljs" data-lang="language-bash">tar xvf cassandra-source-connectors-&lt;version&gt;.tar</code></pre>
</div>
</div>
<div class="paragraph">
<p>Use the version that matches your streaming platform.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_deploy_csc_for_pulsar"><a class="anchor" href="#_deploy_csc_for_pulsar"></a>Deploy CSC for Pulsar</h2>
<div class="sectionbody">
<div class="paragraph">
<p>To deploy the CSC for Pulsar <code>NAR</code> file in your Pulsar cluster, upload it to Luna Streaming or Pulsar using the <code>pulsar-admin sources create</code> command.
You need to deploy a CSC for Pulsar for each CDC-enabled table.</p>
</div>
<div class="paragraph">
<p>For each CDC-enabled table, the change agent will send events to the events topic.
The topic name is determined by the <code>topicPrefix</code> setting in the agent (default is <code>events-</code>).
The <code>&lt;keyspace_name&gt;.&lt;table_name&gt;</code> is appended to the prefix to build the topic name.</p>
</div>
<div class="paragraph">
<p>You have to specify the following parameters:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Connector name. You have one connector per CDC-enabled Cassandra table, make sure to use a unique name.</p>
</li>
<li>
<p>Previously downloaded CSC for Pulsar <code>NAR</code> file.</p>
</li>
<li>
<p>Pulsar <code>tenant</code> and <code>namespace</code> where the connector will run.</p>
</li>
<li>
<p>Destination <code>topic</code> for Cassandra data (<code>data</code> topic).</p>
</li>
<li>
<p>Number of instances (parallelism) of the connector. For high-volume tables, you might need to run multiple connector instances to prevent a growing backlog on the events topic.</p>
</li>
<li>
<p>Name of the <code>events</code> topic the connector will read from.</p>
</li>
<li>
<p>Keyspace and table associated with the events topics.</p>
</li>
<li>
<p>Connection information (such as contact points and DC information) for Cassandra.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Here is an example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-language-bash hljs" data-lang="language-bash">pulsar-admin source create \
--name cassandra-source-1 \
--archive /path/to/pulsar-cassandra-source-&lt;version&gt;.nar \
--tenant public \
--namespace default \
--destination-topic-name public/default/data-ks1.table1 \
--parallelism 1 \
--source-config '{
    "events.topic": "persistent://public/default/events-cdc-ks1.table1",
    "keyspace": "ks1",
    "table": "table1",
    "contactPoints": "localhost",
    "port": 9042,
    "loadBalancing.localDc": "DC1",
    "auth.provider": "PLAIN",
    "auth.username": "&lt;username&gt;",
    "auth.password": "&lt;password&gt;"
}'</code></pre>
</div>
</div>
<div class="paragraph">
<p>Then check your connector is in the running state with no errors:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-language-bash hljs" data-lang="language-bash">pulsar-admin source status --name cassandra-source-1</code></pre>
</div>
</div>
<div class="paragraph">
<p>Once the connector is running, it will process events from the <code>events</code> topic and publish the result to the <code>data</code> topic.</p>
</div>
<div class="paragraph">
<p>For the full set of source configuration options, see <a href="cfgCassandraSource.html" class="page">CSC for Pulsar settings</a>.
For the full set of Cassandra authentication options, see <a href="cfgCassandraAuth.html" class="page">Cassandra Authentication settings</a>.
For the full set of Cassandra SSL settings, see <a href="cfgCassandraSSL.html" class="page">Cassandra SSL/TLS settings</a>.
For advanced configuration of the Cassandra driver in the CSC for Pulsar, see <a href="cfgCassandraJavaDriverSettings.html" class="page">Pass CSC for Pulsar settings directly to the DataStax Java driver</a>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_enabling_and_disabling_cdc_on_a_table"><a class="anchor" href="#_enabling_and_disabling_cdc_on_a_table"></a>Enabling and disabling CDC on a table</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Once the change agent is installed and the connector is running, you can enable or disable CDC on table using the following commands:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-language-bash hljs" data-lang="language-bash">CREATE TABLE foo (a int, b text, PRIMARY KEY(a)) WITH cdc=true;
ALTER TABLE foo WITH cdc=true;
ALTER TABLE foo WITH cdc=false;</code></pre>
</div>
</div>
<div class="paragraph">
<p>When CDC is enabled on a table, updates to that table are sent by the change agent to the CSC for Pulsar which further processes the event and then sends it to the data topic when it can be processed by other connectors (for example, Elasticsearch).</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_csc_for_pulsar_settings"><a class="anchor" href="#_csc_for_pulsar_settings"></a>CSC for Pulsar settings</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 2. Table CSC for Pulsar settings</caption>
<colgroup>
<col style="width: 25%;">
<col style="width: 37.5%;">
<col style="width: 12.5%;">
<col style="width: 12.5%;">
<col style="width: 12.5%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Validator</th>
<th class="tableblock halign-left valign-top">Default</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>events.topic</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The topic name to listen cassandra mutation events to</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>keyspace</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Cassandra keyspace name</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>table</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Cassandra table name</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>cloud.secureConnectBundle</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The location of the cloud secure bundle used to connect to Datastax Astra DB.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">""</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>compression</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Compression algorithm to use when issuing requests to the database server</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(case insensitive) [LZ4, NONE, SNAPPY]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">None</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>connectionPoolLocalSize</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Number of connections that driver maintains within a connection pool to each node in local dc</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">int</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">[1,&#8230;&#8203;]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>contactPoints</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Initial contact points</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">list</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">""</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>ignoreErrors</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Specifies which errors the connector should ignore when processing the record. Valid values are: None (never ignore errors), All (ignore all errors), Driver (ignore driver errors only, i.e. errors when writing to the database).</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">None</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>jmx</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Whether to enable JMX reporting</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">boolean</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">true</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>key.converter</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Converter class used to write the message key to the data topic. This setting is experimental for advanced user only.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">class</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">null</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>loadBalancing.localDc</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The datacenter name (commonly dc1, dc2, etc.) local to the machine on which the connector is running</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">""</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>maxConcurrentRequests</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The maximum number of requests to send at once</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">int</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">[1,&#8230;&#8203;]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">500</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>metricsHighestLatency</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">This is used to scale internal data structures for gathering metrics. It should be higher than queryExecutionTimeout. This parameter should be expressed in seconds.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">int</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">[1,&#8230;&#8203;]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">35</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>port</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Port to connect to nodes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">int</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">[1,&#8230;&#8203;]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">9042</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>queryExecutionTimeout</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CQL statement execution timeout, in seconds</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">int</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">[1,&#8230;&#8203;]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">30</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>value.converter</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Converter class used to write the message value to the data topic. This setting is experimental for advanced user only.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">class</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">null</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>batch.size</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The batch size for grouping mutations before sending them to the data topic</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">int</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">200</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>query.backoffInMs</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Retry backoff in milliseconds when there is not enough Cassandra replicas to perform the query. (Capped exponential jittered backoff)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">long</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">100</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>query.executors</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The initial and maximum number of threads to execute concurrent Cassandra queries</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">int</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">10</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>query.maxBackoffInSec</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Maximum backoff delay in seconds when there is not enough Cassandra replicas to perform the query</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">long</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">3600</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>query.maxMobileAvgLatency</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Maximum mobile average CQL query latency beyond which the number of executors is decreased</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">long</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">100</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>query.minMobileAvgLatency</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Minimum mobile average CQL query latency beyond which the number of executors is increased</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">long</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">10</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>columns</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Regular expression of the Cassandra replicated column names</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">.*</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>jmxConnectorDomain</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Domain for JMX reporting</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">com.datastax.oss.cdc</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>events.subscription.name</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The pulsar events topic subscription name, with a default set to 'sub'</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">sub</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>events.subscription.type</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The pulsar events topic subscription type, with a default set to Key_Shared (case sensitive) for a non-partitioned events topic. If your events topic is partitioned, you should set subscription type to Failover</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">[Exclusive, Shared, Failover, Key_Shared]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Key_Shared</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>cache.max.digest</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The maximum number of digest per mutation cache entry, with a default set to 3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">long</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">[1,&#8230;&#8203;]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>cache.max.capacity</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The maximum capacity of the mutation cache, with a default size of 32767</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">long</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">[1,&#8230;&#8203;]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">32767</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>cache.expire.after.ms</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The mutation cache entry duration in milliseconds, with a default value of 60 seconds.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">long</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">[1000,&#8230;&#8203;]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">60000</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>cache.only_if_coordinator_match</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Cache the mutation digest only if the coordinator node is the originator node.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">boolean</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">true</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="_cassandra_authentication_settings"><a class="anchor" href="#_cassandra_authentication_settings"></a>Cassandra Authentication settings</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 3. Table Cassandra Authentication settings</caption>
<colgroup>
<col style="width: 25%;">
<col style="width: 37.5%;">
<col style="width: 12.5%;">
<col style="width: 12.5%;">
<col style="width: 12.5%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Validator</th>
<th class="tableblock halign-left valign-top">Default</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>auth.gssapi.keyTab</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Kerberos keytab file for GSSAPI provider authentication</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">""</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>auth.gssapi.principal</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Kerberos principal for GSSAPI provider authentication</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">""</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>auth.gssapi.service</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">SASL service name to use for GSSAPI provider authentication</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">dse</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>auth.password</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Password for PLAIN (username/password) provider authentication</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">password</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">[hidden]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>auth.provider</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Authentication provider</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">[None, PLAIN, GSSAPI]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">None</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>auth.username</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Username for PLAIN (username/password) provider authentication</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">""</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="_cassandra_ssltls_settings"><a class="anchor" href="#_cassandra_ssltls_settings"></a>Cassandra SSL/TLS settings</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 4. Table Cassandra SSL/TLS settings</caption>
<colgroup>
<col style="width: 25%;">
<col style="width: 37.5%;">
<col style="width: 12.5%;">
<col style="width: 12.5%;">
<col style="width: 12.5%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Validator</th>
<th class="tableblock halign-left valign-top">Default</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>ssl.cipherSuites</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The cipher suites to enable</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">list</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">""</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>ssl.hostnameValidation</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Whether or not to validate node hostnames when using SSL</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">boolean</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">true</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>ssl.keystore.password</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Keystore password</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">password</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">[hidden]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>ssl.keystore.path</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The path to the keystore file</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">""</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>ssl.openssl.keyCertChain</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The path to the certificate chain file</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">""</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>ssl.openssl.privateKey</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The path to the private key file</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">""</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>ssl.provider</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">SSL/TLS provider</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">[None, JDK, OpenSSL]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">None</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>ssl.truststore.password</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Truststore password</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">password</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">[hidden]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>ssl.truststore.path</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The path to the truststore file</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">""</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="_pass_csc_for_pulsar_settings_directly_to_the_datastax_java_driver"><a class="anchor" href="#_pass_csc_for_pulsar_settings_directly_to_the_datastax_java_driver"></a>Pass CSC for Pulsar settings directly to the DataStax Java driver</h2>
<div class="sectionbody">
<div class="paragraph">
<p>In your DataStax Cassandra Source Connector for Apache Pulsarâ¢ configuration file, you can directly pass settings to the DataStax Java driver by using the <code>datastax-java-driver</code> prefix.
For example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-no-highlight hljs" data-lang="no-highlight">datastax-java-driver.basic.request.consistency=ALL</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_mapping_csc_for_pulsar_settings_to_java_driver_properties"><a class="anchor" href="#_mapping_csc_for_pulsar_settings_to_java_driver_properties"></a>Mapping CSC for Pulsar settings to Java driver properties</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The following table identifies functionally equivalent CSC for Pulsar and DataStax Java driver settings.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
If you define both in your configuration, the CSC for Pulsar setting take precedence over the <code>datastax-java-driver.property-name</code>.
If you do not provide either in your configuration, CSC for Pulsar defaults are in effect.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>For information about the Java properties, refer to the <a href="https://docs.datastax.com/en/developer/java-driver-dse/2.3/manual/core/configuration/">DataStax Java driver documentation.</a></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">DataStax Cassandra Source Connector for Apache Pulsarâ¢</th>
<th class="tableblock halign-left valign-top">Using datastax-java-driver prefix</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>contactPoints</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>datastax-java-driver.basic.contact-points</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>loadBalancing.localDc</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>datastax-java-driver.basic.load-balancing-policy.local-datacenter</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>cloud.secureConnectBundle</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>datastax-java-driver.basic.cloud.secure-connect-bundle</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>queryExecutionTimeout</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>datastax-java-driver.basic.request.timeout</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>connectionPoolLocalSize</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>datastax-java-driver.advanced.connection.pool.local.size</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>compression</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>datastax-java-driver.advanced.protocol.compression</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>metricsHighestLatency</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>datastax-java-driver.advanced.metrics.session.cql-requests.highest-latency</code></p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>There is a difference between the CSC for Pulsar&#8217;s <code>contactPoints</code> setting and the Java driver&#8217;s <code>datastax-java-driver.basic.contact-points</code>.
For <code>contactPoints</code>, the value of the <code>port</code> is appended to every host provided by this setting.
For <code>datastax-java-driver.basic.contact-points</code>, you must provide the fully qualified contact points (<code>host:port</code>).</p>
</div>
<div class="paragraph">
<p>By passing in the Java driver&#8217;s setting, this option gives you more configuration flexibility because you can specify a different port for each host.
Example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-no-highlight hljs" data-lang="no-highlight">datastax-java-driver.basic.contact-points = 127.0.0.1:9042, 127.0.0.2:90</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_conversion_of_java_driver_properties_of_type_list_to_typesafe_config"><a class="anchor" href="#_conversion_of_java_driver_properties_of_type_list_to_typesafe_config"></a>Conversion of Java driver properties of type List to TypeSafe Config</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The following properties that are of type <code>List</code>, which you could pass into the driver from your Pulsar Connector configuration via the <code>datastax-java-driver</code> prefix, are converted by the DataStax Java driver to the <code>TypeSafe Config</code> format.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>datastax-java-driver.advanced.ssl-engine-factory.cipher-suites</code></p>
</li>
<li>
<p><code>datastax-java-driver.advanced.metrics.node.enabled</code></p>
</li>
<li>
<p><code>datastax-java-driver.advanced.metadata.schema.refreshed-keyspaces</code></p>
</li>
<li>
<p><code>datastax-java-driver.advanced.metrics.session.enabled</code></p>
</li>
<li>
<p><code>datastax-java-driver.basic.contact-points</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The conversion by the Java driver will split the comma-separated values provided in those setting to create indexed properties.
For example, if you passed in <code>datastax-java-driver.advanced.metrics.session.enabled=a,b</code>, the entry is converted to:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-no-highlight hljs" data-lang="no-highlight">datastax-java-driver.advanced.metrics.session.enabled.0=a
datastax-java-driver.advanced.metrics.session.enabled.1=b</code></pre>
</div>
</div>
<div class="paragraph">
<p>For more information, refer to the <a href="https://docs.datastax.com/en/developer/java-driver/4.3/manual/core/configuration/reference/">Java driver reference configuration</a> topic.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_scaling_up_your_configuration"><a class="anchor" href="#_scaling_up_your_configuration"></a>Scaling up your configuration</h2>
<div class="sectionbody">
<div class="paragraph">
<p>If your connector is not keeping up and the messages in the events topic are growing, increase the number of connector instances using the <code>parallelism</code> parameter.
Pulsar ensures in-order processing using Key_Shared subscriptions.</p>
</div>
<div class="paragraph">
<p>If the volume of data in the events topic is very high, <a href="https://pulsar.apache.org/docs/en/admin-api-topics/#manage-partitioned-topics">partition</a> the events topic to distribute the load across multiple Pulsar brokers.
Do this before starting the change agent, since by default Puslar will auto-create non-partitioned topics.
If you are using partitioned topics, change <code>events.subscription.type</code> to <code>Failover</code> to ensure in-order delivery when running multiple connector instances.</p>
</div>
<div class="paragraph">
<p>To further improve the throughput, you can adjust the <code>pulsarBatchDelayInMs</code> in the change agent to batch messages in the change agent before sending them to Pulsar.</p>
</div>
<div class="paragraph">
<p>To improve performance on individual connector instances as they read data from Cassandra, you can adjust the <code>batch.size</code> and the <code>query.executors</code>.
Increasing these values from their defaults will increase parallelism within the connector instances.</p>
</div>
<div class="paragraph">
<p>The de-duplication cache is configurable, including the cache size with <code>cache.max.capacity</code>, the entry retention duration <code>cache.expire.after.ms</code> and the number of MD5 digest per primary key entry with <code>cache.max.digest</code>.</p>
</div>
</div>
</div>
</article>
<aside class="toc sidebar" data-title="Contents" data-levels="2">
  <div class="toc-menu"></div>
</aside>
  </div>
</main></div>
<footer class="footer">
  <div class="footer-row">
    <div class="footer__notice align-items-center row">
      <div class="order-1 order-lg-0 col-lg col-12">
        <p class="small mb-0">
          Â© 2021 DataStax |
          <a href="https://www.datastax.com/legal/datastax-website-privacy-policy">Privacy Policy</a> |
          <a href="https://www.datastax.com/legal/datastax-website-terms-use">Terms of Use</a>
              <!-- UNCOMMENT IF USING ONETRUST FOR COOKIES
                <span><a href="#" id="ot-sdk-btn" class="ot-sdk-show-settings">Do Not Sell My Personal Information</a></span>
              -->
        </p>
      </div>
    <div class="text-center text-lg-left mb-5 mb-lg-0 col-lg-auto col-12">
        <a class="ml-1" href="https://www.facebook.com/datastax" target="_blank" rel="noreferrer"><img
            src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTMyIDBIMHYzMS42NWgxNy4wOTVWMTkuNDM2aC00LjE4MlYxNC42Mmg0LjE2di0zLjUxNWMwLTQuMDkzIDIuNTItNi4zMiA2LjIwOS02LjMyYTM1LjI3IDM1LjI3IDAgMDEzLjc1LjIxMnY0LjI3aC0yLjU0OWMtMi4wMDQgMC0yLjM5MS45MzgtMi4zOTEgMi4zMnYzLjA1NWg0LjhsLS42MjMgNC43OTJoLTQuMTc3VjMxLjY1SDMyVjB6IiBmaWxsPSIjMUU3MUQ0Ii8+PC9zdmc+"
            alt="Facebook logo" loading="lazy"></a>
        <a class="ml-1" href="https://twitter.com/datastax" target="_blank" rel="noreferrer"><img
            src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTMyLjAwMSAzMS42NWgtMzJWMGgzMnYzMS42NXptLTE5LjcxMi03Ljc4NWM3LjU0NCAwIDExLjY3Mi02LjE4OCAxMS42NzItMTEuNTQ1IDAtLjE3NCAwLS4zNDgtLjAwOC0uNTIyLjgtLjU3IDEuNDk2LTEuMjkgMi4wNDgtMi4xMDVhOC4zODcgOC4zODcgMCAwMS0yLjM2LjY0MSA0LjA5IDQuMDkgMCAwMDEuODA4LTIuMjQ3IDguMjExIDguMjExIDAgMDEtMi42MDguOTgxIDQuMTE2IDQuMTE2IDAgMDAtMi45OTItMS4yODJjLTIuMjY0IDAtNC4xMDQgMS44Mi00LjEwNCA0LjA2IDAgLjMxNi4wNC42MjQuMTA0LjkyNUExMS42OTIgMTEuNjkyIDAgMDE3LjM5MyA4LjUzYTQuMDI0IDQuMDI0IDAgMDAtLjU1MiAyLjA0MSA0LjA2IDQuMDYgMCAwMDEuODI0IDMuMzggNC4xODQgNC4xODQgMCAwMS0xLjg1Ni0uNTA3di4wNTVjMCAxLjk2MiAxLjQxNiAzLjYwOCAzLjI4OCAzLjk4YTQuMDQgNC4wNCAwIDAxLTEuMDguMTQzYy0uMjY0IDAtLjUyLS4wMjQtLjc2OC0uMDcyYTQuMDk3IDQuMDk3IDAgMDAzLjgzMiAyLjgxNyA4LjI4NSA4LjI4NSAwIDAxLTUuMDk2IDEuNzQxYy0uMzI4IDAtLjY1Ni0uMDE2LS45NzYtLjA1NWExMS43NjMgMTEuNzYzIDAgMDA2LjI4IDEuODEyeiIgZmlsbD0iIzFFNzFENCIvPjwvc3ZnPg=="
            alt="Twitter logo" loading="lazy"></a>
        <a class="ml-1" href="https://www.linkedin.com/company/datastax/" target="_blank" rel="noreferrer"><img
            src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTS4wMDEgMHYzMS42NWgzMlYwaC0zMnptOS40ODEgMjYuOTYyaC00Ljc0VjExLjg0aDQuNzR2MTUuMTIyek03LjExMiA5Ljc4OGEyLjcwNCAyLjcwNCAwIDAxLTIuNzI2LTIuNjk2YzAtMS41MjQgMS4yNDUtMi42OTYgMi43MjYtMi42OTYgMS41NCAwIDIuNzI2IDEuMjMgMi43MjYgMi42OTYuMDYgMS40NjUtMS4xODUgMi42OTYtMi43MjYgMi42OTZ6TTI3LjI2IDI2Ljk2MmgtNC43NHYtNy4zMjdjMC0xLjc1OC0uMDYtMy45ODUtMi40OS0zLjk4NS0yLjQ4OCAwLTIuODQ0IDEuOTM0LTIuODQ0IDMuODY4djcuNDQ0aC00Ljc0VjExLjg0aDQuNTYydjIuMDUxaC4wNmMuNjUxLTEuMTcyIDIuMTkyLTIuNDYxIDQuNTAzLTIuNDYxIDQuOCAwIDUuNjkgMy4xMDYgNS42OSA3LjIwOXY4LjMyM3oiIGZpbGw9IiMxRTcxRDQiLz48L3N2Zz4="
            alt="LinkedIn logo" loading="lazy"></a>
        <a class="ml-1" href="https://github.com/datastax/" target="_blank" rel="noreferrer"><img
            src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0zMiAwSDB2MzEuNjVoMzJWMHpNNCAxNS44MDVDNCA5LjI4NyA5LjM1OCA0IDE1Ljk2MyA0IDIyLjU3IDQgMjcuOTI3IDkuMjg3IDI4IDE1LjgwNWMwIDUuMjE1LTMuMzc2IDkuNjMyLTguMTQ3IDExLjIyNi0uNTg3LjA3Mi0uODA3LS4yOS0uODA3LS41OHYtMy4yNTljMC0xLjA4Ni0uMzY3LTEuODEtLjgwOC0yLjE3MiAyLjY0My0uMjkgNS40MzItMS4yMzIgNS40MzItNS43OTRhNC42NSA0LjY1IDAgMDAtMS4yNDgtMy4xODdsLjAyMy0uMDg1YTQuNDQgNC40NCAwIDAwLS4xNy0zLjAzcy0xLjAyNy0uMjg5LTMuMzAyIDEuMjMyYTEzLjY4MSAxMy42ODEgMCAwMC0zLjAxLS4zNjJjLTEuMDI3IDAtMi4wNTUuMDcyLTMuMDA5LjM2Mi0yLjI3NS0xLjUyLTMuMzAzLTEuMjMxLTMuMzAzLTEuMjMxLS42NDggMS41NjQtLjIzNSAyLjc4LS4xNSAzLjAyOSAwIC4wMDQuMDAyLjAwOS4wMDQuMDEzLS44MDguODY5LTEuMjQ4IDEuODgzLTEuMjQ4IDMuMTg2IDAgNC41NjMgMi43ODkgNS41NzcgNS40MzEgNS44NjctLjI5My4yOS0uNjYuNzk2LS43MzQgMS41OTMtLjY2LjI5LTIuMzQ5Ljc5Ny0zLjQ1LTEuMDE0IDAgMC0uNjYtMS4xNTktMS44MzQtMS4yMzEgMCAwLTEuMTc1IDAtLjA3NC43MjQgMCAwIC44MDguMzYyIDEuMzIxIDEuNzM4IDAgMCAuNzM0IDIuMzE4IDQuMDM3IDEuNTkzdjIuMDI4YzAgLjI5LS4yMi42NTItLjgwNy41OEM3LjQ1IDI1LjQzNyA0IDIxLjAyIDQgMTUuODA1eiIgZmlsbD0iIzFFNzFENCIvPjwvc3ZnPg=="
            alt="GitHub logo" loading="lazy"></a>
    </div>
   </div>
  </div>
</footer>
<script src="../../assets/js/site.js"></script>
<script async src="../../assets/js/vendor/highlight.js"></script>
  </body>
</html>
